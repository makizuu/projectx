<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        <title> </title>
    </head>
    <body>
    <h1>Search Words (normal synchronous)</h1>
    <form action="" method="get">
        <label for="search">Book:</label>
        <input type="text" id="search" name="search" size="40" autofocus>
        <input type="submit" value="Search">
        <br>
        <output>
        {% if all_books %}
        <ul>
            {% for book in all_books %}
                <li>{{ book.title }}</li>
            {% endfor %}
        </ul>
        {% else %}
            <p>no definitions found.</p>
        {% endif %}
        </output>
    </form>
    {% load i18n %}
    {% load static %}
    <h1>Books</h1>
    {% if all_books %}
        <ul>
        {% for book in all_books %}
            <li><h2>{{ book.title }}</h2>
            <p>Published: {{ book.pub_date }}</p>
            <p>Authored by:
            <ul>
                {% for author in book.authors.all %}
                <li>{{ author.first_name }} {{ author.last_name }}</li>
                {% endfor %}
            </ul></p>
        <p>Genres:
            <ul>
            {% for genre in book.genres.all %}
            <li>{{ genre.name }}</li>
            {% endfor %}
        </ul></p>
            <!--<p><a href="{{ book.id }}/">Update book info</a></p>
            <p><a href="{{ book.id }}/delete/">Delete book</a></p> -->
            <!-- TÃ¤nne tulee uudet luokat LoanBook ja ReturnBook -->
            </li>
        {% endfor %}
        </ul>
    {% else %}
        <p>{% trans "No new books were available." %}</p>
    {% endif %}
    </body>
</html>